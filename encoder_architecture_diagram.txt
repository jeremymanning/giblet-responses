================================================================================
                    13-LAYER AUTOENCODER ARCHITECTURE
                         (Layer 7 = Bottleneck)
================================================================================

ENCODER (7 layers) - IMPLEMENTED ✅
────────────────────────────────────────────────────────────────────────────

┌─────────────────────────────────────────────────────────────────────────┐
│ Layer 1: INPUT                                                          │
│          Video (3×90×160) + Audio (2048) + Text (1024)                  │
└─────────────────────────────────────────────────────────────────────────┘
                                  │
                    ┌─────────────┼─────────────┐
                    │             │             │
            ┌───────▼──────┐ ┌───▼────┐ ┌─────▼─────┐
            │ Layer 2A:    │ │Layer 2B│ │ Layer 2C: │
            │ Video Conv2D │ │Audio   │ │ Text      │
            │              │ │Conv1D  │ │ Linear    │
            │ → 1024 dims  │ │→ 256   │ │ → 256     │
            └──────┬───────┘ └───┬────┘ └─────┬─────┘
                   │             │            │
                   └─────────────┼────────────┘
                                 │
            ┌────────────────────▼───────────────────┐
            │ Layer 3: POOLED FEATURES               │
            │          1024 + 256 + 256 = 1536 dims  │
            └────────────────────┬───────────────────┘
                                 │
            ┌────────────────────▼───────────────────┐
            │ Layer 4: FEATURE CONVOLUTION           │
            │          1536 dims (Linear + ReLU)     │
            └────────────────────┬───────────────────┘
                                 │
            ┌────────────────────▼───────────────────┐
            │ Layer 5: FIRST EXPANSION               │
            │          1536 → 4096 dims              │
            │          (Linear + BN + ReLU)          │
            └────────────────────┬───────────────────┘
                                 │
            ┌────────────────────▼───────────────────┐
            │ Layer 6: SECOND EXPANSION              │
            │          4096 → 8000 dims              │
            │          (Linear + BN + ReLU)          │
            └────────────────────┬───────────────────┘
                                 │
       ╔════════════════════════▼═══════════════════════╗
       ║ Layer 7: BOTTLENECK (SMALLEST LAYER)          ║
       ║          8000 → 2048 dims                     ║
       ║          (Linear + BN, NO ReLU)               ║
       ║          ← MIDDLE OF 13-LAYER AUTOENCODER     ║
       ╚════════════════════════╤═══════════════════════╝
                                │

────────────────────────────────────────────────────────────────────────────
DECODER (6 layers) - TO BE IMPLEMENTED ⏳
────────────────────────────────────────────────────────────────────────────

       ╔════════════════════════╤═══════════════════════╗
       ║ Layer 7: BOTTLENECK (2048 dims)               ║
       ╚════════════════════════╤═══════════════════════╝
                                │
            ┌────────────────────▼───────────────────┐
            │ Layer 8: EXPANSION                     │
            │          2048 → 8000 dims              │
            │          (Linear + BN + ReLU)          │
            └────────────────────┬───────────────────┘
                                 │
            ┌────────────────────▼───────────────────┐
            │ Layer 9: EXPANSION                     │
            │          8000 → 4096 dims              │
            │          (Linear + BN + ReLU)          │
            └────────────────────┬───────────────────┘
                                 │
            ┌────────────────────▼───────────────────┐
            │ Layer 10: COMPRESSION                  │
            │           4096 → 1536 dims             │
            │           (Linear + BN + ReLU)         │
            └────────────────────┬───────────────────┘
                                 │
                    ┌────────────┼────────────┐
                    │            │            │
            ┌───────▼──────┐ ┌──▼────┐ ┌────▼──────┐
            │ Layer 11A:   │ │Layer  │ │ Layer 11C:│
            │ Video        │ │11B:   │ │ Text      │
            │ Deconv2D     │ │Audio  │ │ Linear    │
            │ → 1024 dims  │ │Deconv │ │ → 256     │
            └──────┬───────┘ │→ 256  │ └─────┬─────┘
                   │         └───┬───┘       │
                   └─────────────┼───────────┘
                                 │
            ┌────────────────────▼───────────────────┐
            │ Layer 12: UNPOOLED FEATURES            │
            │           Split into modalities        │
            └────────────────────┬───────────────────┘
                                 │
┌────────────────────────────────▼────────────────────────────────────────┐
│ Layer 13: OUTPUT                                                        │
│           Video (3×90×160) + Audio (2048) + Text (1024)                 │
│           Reconstructed stimulus                                        │
└─────────────────────────────────────────────────────────────────────────┘

================================================================================

KEY FEATURES:
• Layer 7 is the BOTTLENECK (2048 dims, smallest in autoencoder)
• Encoder expands (Layer 5-6) then compresses (Layer 7)
• No ReLU at bottleneck allows negative latent values
• Symmetric architecture: Encoder mirrors Decoder

DIMENSION FLOW:
Encoder: 1536 → 4096 → 8000 → 2048 (compress)
Decoder: 2048 → 8000 → 4096 → 1536 (expand)

TOTAL PARAMETERS (with bottleneck_dim=2048):
• Encoder: ~83M parameters
• Decoder: ~TBD (to be implemented)
• Total: ~1.5B parameters (including voxel prediction)

================================================================================
