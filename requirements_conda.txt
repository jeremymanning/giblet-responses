# Giblet Text Embedding Dependencies - Python 3.11 (Tested on macOS Apple Silicon)
#
# This file contains exact package versions that are known to work WITHOUT SEGFAULTS
# when using sentence-transformers and PyTorch on Python 3.11.
#
# Created: 2025-10-29
# Tested on: macOS (Apple Silicon), Python 3.11.14
#
# Setup Instructions:
#   1. conda create -n giblet-py311 python=3.11 -y
#   2. conda activate giblet-py311
#   3. pip install -r requirements_conda.txt
#
# Key Notes:
# - PyTorch 2.9.0 with MPS (Metal Performance Shaders) support for Mac
# - sentence-transformers 5.1.2 (latest stable)
# - No segfaults when loading BAAI/bge-large-en-v1.5 model
# - All tests pass with different batch sizes and multiple runs

# Core deep learning - INSTALL FIRST
torch==2.9.0
torchvision==0.24.0
torchaudio==2.9.0

# Text processing and embeddings - INSTALL SECOND
sentence-transformers==5.1.2
transformers==4.57.1  # Includes EnCodec for high-quality audio reconstruction (Issue #24)
tokenizers==0.22.1
huggingface-hub==0.36.0
safetensors==0.6.2

# Data handling
numpy==2.3.4
pandas==2.3.3
openpyxl==3.1.5
scipy==1.16.3

# Video/Audio processing
opencv-python==4.11.0.86
librosa==0.10.2.post1

# Neuroimaging
nibabel==5.3.2
nilearn==0.11.1

# Scientific computing
scikit-learn==1.7.2

# Utilities
tqdm==4.67.1
pyyaml==6.0.3
regex==2025.10.23

# Core dependencies (auto-installed but listed for reference)
certifi==2025.10.5
charset-normalizer==3.4.4
et-xmlfile==2.0.0
filelock==3.20.0
fsspec==2025.9.0
hf-xet==1.2.0
idna==3.11
Jinja2==3.1.6
joblib==1.5.2
MarkupSafe==3.0.3
mpmath==1.3.0
networkx==3.5
packaging==25.0
pillow==12.0.0
python-dateutil==2.9.0.post0
pytz==2025.2
requests==2.32.5
six==1.17.0
sympy==1.14.0
threadpoolctl==3.6.0
typing-extensions==4.15.0
tzdata==2025.2
urllib3==2.5.0

# Visualization tools
matplotlib==3.10.7
visualkeras==0.2.0
aggdraw==1.3.19

# Deep learning frameworks (for visualkeras)
tensorflow==2.20.0
keras==3.12.0
tf-keras  # Backwards compatibility for transformers with Keras 3

# Development tools (optional)
# pytest>=7.4.0
# pytest-cov>=4.1.0
ffmpeg  # For audio/video processing (conda install -c conda-forge)
